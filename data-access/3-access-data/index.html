<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="University of Chicago, CDIS">
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>3. Access "raw" data storage from Virtual Machine - Gen3 User Doc</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  <link href="../../css/extra.css" rel="stylesheet">
  
  <script>
    // Current page data
    var mkdocs_page_name = "3. Access \"raw\" data storage from Virtual Machine";
    var mkdocs_page_input_path = "data-access/3-access-data.md";
    var mkdocs_page_url = "/gen3-user-doc/data-access/3-access-data/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
  <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-27795084-5', 'mkdocs.org');
      ga('send', 'pageview');
  </script>
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Gen3 User Doc</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="../..">Home</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">User Guide</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../user-guide/guide-overview/">Guide Overview</a>
                </li>
                <li class="">
                    
    <a class="" href="../../user-guide/data-contribution/">Data Contribution</a>
                </li>
                <li class="">
                    
    <a class="" href="../../user-guide/data-access/">Data Access</a>
                </li>
                <li class="">
                    
    <a class="" href="../../user-guide/data-analysis/">Data Analysis</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Appendices</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../appendices/cdis-data-client/">CDIS Data Client</a>
                </li>
                <li class="">
                    
    <a class="" href="../../appendices/architecture/">Data Commons Architecture</a>
                </li>
                <li class="">
                    
    <a class="" href="../../appendices/data-dictionary/">Data Dictionary</a>
                </li>
                <li class="">
                    
    <a class="" href="../../appendices/api-gen3/">Working with the API</a>
                </li>
                <li class="">
                    
    <a class="" href="../../appendices/proxy-whitelist/">Working with the Proxy and Whitelist</a>
                </li>
                <li class="">
                    
    <a class="" href="../../appendices/timepoints/">Managing Timepoints</a>
                </li>
                <li class="">
                    
    <a class="" href="../../appendices/template-tsvs/">Template TSVs</a>
                </li>
    </ul>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">Gen3 User Doc</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
    
    <li>3. Access "raw" data storage from Virtual Machine</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="3-access-raw-data-storage-from-virtual-machine">3. Access "raw" data storage from Virtual Machine<a class="headerlink" href="#3-access-raw-data-storage-from-virtual-machine" title="Permanent link"></a></h1>
<h2 id="add-s3-raw-data-storage-credentials-to-your-vm">Add s3 'raw' data storage credentials to your VM<a class="headerlink" href="#add-s3-raw-data-storage-credentials-to-your-vm" title="Permanent link"></a></h2>
<p>Now you'll need to add your storage credentials to your analysis VM.   Details on getting your credentials from the <a href="https://bionimbus-pdc.opensciencedatacloud.org/storage/">Bionimbus storage portal</a> are outlined in the <a href="https://www.synapse.org/#!Synapse:syn8011461/wiki/413157">data contribution section</a> of the wiki.   If you are only accessing data and did not contribute, please follow those directions to acquire your keys using the Oauth you provided in <a href="https://www.synapse.org/#!Synapse:syn8011461/wiki/414183">Step 1</a> of the Data Access section.   </p>
<p>If you did contribute data you should use an existing key.   They will still have "read/write" permission to your project folder, but will also have permission to "read" other data in the BloodPAC commons.   If you submitted multiple projects and have multiple keys, all will have the same "read" permissions for data - it only matters which one you pick if you still intend to write data to your project folder from your VM.  </p>
<p>As a reminder, the command to setup a profile is: <code>aws configure --profile &lt;CREATE YOUR PROFILE NAME&gt;</code></p>
<h3 id="example-configure-an-s3-profile-in-your-vm">Example:  Configure an S3 profile in your VM<a class="headerlink" href="#example-configure-an-s3-profile-in-your-vm" title="Permanent link"></a></h3>
<p>${image?fileName=S3%5FVM%5FprofileLoop%2Egif&amp;align=Center&amp;responsive=true}</p>
<h2 id="review-contents-of-the-gen3-commons">Review contents of the Gen3 Commons<a class="headerlink" href="#review-contents-of-the-gen3-commons" title="Permanent link"></a></h2>
<p>You can now review the 'raw' data folders in the Gen3 object storage. <br />
<code>aws s3 ls s3://commons-data/ --profile &lt;profilename&gt;</code></p>
<p>To peek inside a folder:
<code>aws s3 ls s3://commons-data/&lt;foldername&gt;/ --profile &lt;profilename&gt;</code></p>
<p>You can use other commands to pull files from the s3 object storage into your VM.    If you're not familiar with AWScli commands, we recommend reviewing the <a href="http://docs.aws.amazon.com/cli/latest/userguide/using-s3-commands.html">high-level docs</a> or the <a href="http://docs.aws.amazon.com/cli/latest/reference/s3/">complete documentation</a>.</p>
<blockquote>
<p>NOTE:   Remember, that since your access is read only (except any projects you've submitted associated with your keys), you will only be able to read, not write to the project folders in the commons. <br />
NOTE2:   If you are using keys with write access to your project folders in the commons, be VERY CAREFUL.   Don't delete any data you'll have to resubmit later.      </p>
</blockquote>
<h3 id="ready-to-work">Ready to work!<a class="headerlink" href="#ready-to-work" title="Permanent link"></a></h3>
<p>You're ready to use whatever tools you wish to analyze data in the commons within your VM.   For requests for alternative configurations, analysis storage, or other needs please contact gen3-support@datacommons.io.</p>
<p>For an example of how you could use a Jupyter Notebook to run analysis in the browser on your local computer, please continue on to the <a href="/demos/bloodpac-demo.md">next section</a>.    There are lots of good examples that may be useful to you.    </p>
              
            </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
      <p>Copyright &copy; 2017 <a href="https://cdis.uchicago.edu">CDIS at UChicago</a></p>
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/uc-cdis/gen3-user-doc/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>

</body>
</html>
